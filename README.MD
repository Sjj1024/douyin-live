# 抖音直播爬虫 python 实现

抖音弹幕抓取，礼物抓取，直播流地址抓取，可以抓取到m3u8直播流链接，还有flv直播流链接，还有直播礼物打赏排名，在线观众排名等等。  
可配置服务端地址，将数据推送到自己的服务器，可以控制是否开启推送等配置。可以控制是否保存lOG文件等配置。  
欢迎参观我的个人博客：[我的CSDN博客，阅读量过260W，粉丝过2W](https://blog.csdn.net/weixin_44786530?spm=1000.2115.3001.5343)

## 环境大于3.6应该都可以

```
python 3.9 
```

## 安装依赖

```shell
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

## 生成Proto文件

(proto是需要单独安装的一个工具哦，mac电脑应该是必须执行这条命令才可以，windows的应该可以直接用)

```
protoc -I . --python_out=. ./proto/dy.proto
```

此时会在proto文件夹中重新生成dy_pb2.py文件，mac电脑一定要这样做，windows也尽量这样生成一下，避免程序启动失败。


## 动态配置

```python
# 配置日志信息
import logging

# 配置日志信息
LOG_FILE_SAVE = True
LOG_FILE_NAME = "log.txt"
LOG_LEVEL = logging.DEBUG
LOG_FORMAT = "%(asctime)s - %(levelname)s - %(message)s"

# 直播信息配置：直播地址，直播用户排名，直播排名抓取间隔，直播推送到后台，推送到后台地址
LIVE_ROOM_URL = "https://live.douyin.com/646454278948"
# 特殊礼物单独统计
LIVE_GIFT_LIST = ["月下瀑布"]
# 是否抓取在线打赏排名
LIVE_RANK_LIST = True
# 获取礼物排名时间间隔: 建议不要低于10秒
LIVE_RANK_INTERVAL = 10
# 使用ws推送直播数据
LIVE_WEB_SEND = False
# 是否开启HTTP推送
LIVE_HTTP_SEND = True
# 多久向服务端推送一条消息
LIVE_SEND_INTERVAL = 3
# HTTP推送地址：普通用户不用管下面的配置，需要将直播数据推送到你们服务器的才配置
LIVE_WEB_SEND_URL = "http://************/game/gamemgnt"
# 一场比赛唯一的UUID
GAME_UUID = "157ae45b-263b-414a-8976-6d2ad210a7e8"
# 应援UUID(这是我们自己项目推送使用的参数):4
DONATION_UUID = "179019d3-83dd-4619-b7d9-579786659204"
```



## 运行

打开浏览器，打开你想监听的抖音直播间，然后将直播间网址黏贴到config.py的LIVE_ROOM_URL中，然后运行main.py程序即可看到效果。
注意：如果要获取排名，需要将时间间隔设置大一点，否则抓取频繁会获取不到数据：打包房间人数失败

```shell
python main.py
```


## 直播流地址

直播流地址可以使用在线播放工具测试是否可以正常播放直播内容  
西瓜播放器(支持flv直播流)：https://h5player.bytedance.com/generate/  
m3u8在线播放器(播放m3u8流)：http://tool.pfan.cn/m3u8/  
![](https://img-blog.csdnimg.cn/1ee41000b7294de587bf35c446f94024.png)
![](https://img-blog.csdnimg.cn/8df84d0b24334d3db563c1014e731dab.png)

## TODO BUG

有的直播有可能获取不到m3u8的链接，待研究：https://live.douyin.com/3652616706  
flv直播流地址区分标清|高清|蓝光地址，需要都获取到

## 运行效果
```shell
2024-04-07 10:44:30,246 - DEBUG - Starting new HTTPS connection (1): live.douyin.com:443
2024-04-07 10:44:30,512 - DEBUG - https://live.douyin.com:443 "GET /269048052485 HTTP/1.1" 200 None
2024-04-07 10:44:30,737 - INFO - 房间标题: 小白剧场，24小时放映，就等你了！
2024-04-07 10:44:30,738 - INFO - 主播账号信息: {'id_str': '4234921988326635', 'sec_uid': 'MS4wLjABAAAAaLAHXb8PHkB9BPrifk61GcCAkdHIjOEKeEQQlBVlzIFrS_NRlTI9Hrin2PGxjA2h', 'nickname': '金豆（收徒中）', 'avatar_thumb': {'url_list': ['https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334', 'https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334', 'https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334']}, 'follow_info': {'follow_status': 0, 'follow_status_str': '0'}}
2024-04-07 10:44:30,738 - INFO - 直播流m3u8链接地址是: https://pull-f3.douyincdn.com/third/stream-403127986670011051_or4.m3u8?auth_key=1713060870-0-0-d4eb9d58f28c71c15de5160c914a715a
2024-04-07 10:44:30,738 - INFO - 直播流FLV地址是: https://pull-f3.douyincdn.com/third/stream-403127986670011051_hd.flv?auth_key=1713060870-0-0-9c2d2b676a3c033963dfc4c9984f65e0
2024-04-07 10:44:30,742 - DEBUG - Starting new HTTPS connection (1): live.douyin.com:443
主播账号信息: {'id_str': '4234921988326635', 'sec_uid': 'MS4wLjABAAAAaLAHXb8PHkB9BPrifk61GcCAkdHIjOEKeEQQlBVlzIFrS_NRlTI9Hrin2PGxjA2h', 'nickname': '金豆（收徒中）', 'avatar_thumb': {'url_list': ['https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334', 'https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334', 'https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_9bc83dbb3e70fea4e0fbe3dedd8d66d5.jpeg?from=3067671334']}, 'follow_info': {'follow_status': 0, 'follow_status_str': '0'}}
直播流m3u8链接地址是: https://pull-f3.douyincdn.com/third/stream-403127986670011051_or4.m3u8?auth_key=1713060870-0-0-d4eb9d58f28c71c15de5160c914a715a
直播流FLV地址是: https://pull-f3.douyincdn.com/third/stream-403127986670011051_hd.flv?auth_key=1713060870-0-0-9c2d2b676a3c033963dfc4c9984f65e0
间隔10秒更新一下排行
2024-04-07 10:44:30,976 - INFO - Websocket connected
2024-04-07 10:44:30,976 - INFO - [onOpen] [webSocket Open事件] [房间Id：7353446987657677579]
2024-04-07 10:44:30,976 - INFO - [ping] [💗发送ping心跳] [房间Id：7353446987657677579] ====> 房间🏖标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:31,008 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:31,008 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950526868137755", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "66763815278", "shortId": "86763815278", "nickName": "T6", "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQFBu5nFeAxRTePGA7BEAEqBqDZIQaAbALf8vD.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_1.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "1", "alternativeText": "荣誉等级1级勋章"}}], "FollowInfo": {"followingCount": "31", "followerCount": "17", "followerCountStr": "17", "followingCountStr": "31"}, "displayId": "86763815278", "secUid": "MS4wLjABAAAANnlduhuY7zfauWI21fGQQQ7crls4dDmiTSBm9yUeGc0"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,008 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16753] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950529649789962", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "4477670630374472", "shortId": "51733929550", "nickName": "兴辛", "gender": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_ooAIghDAe5lEyAvNXA6yC9LSKPIzACfcCljAc0.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_21.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "21", "alternativeText": "荣誉等级21级勋章"}}, {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/ranklist_fansclub_advanced_badge_11.png~tplv-obj.image"], "imageType": 7, "content": {"name": "机器人", "fontColor": "#FFFFFF", "level": "11", "alternativeText": "机器人粉丝团勋章"}}], "FollowInfo": {"followingCount": "1430", "followerCount": "42", "followerCountStr": "42", "followingCountStr": "1430"}, "displayId": "51733929550", "secUid": "MS4wLjABAAAAd2hpGrm_xcYk79xuK9t2yaU4phyfT9KAJG7bVV7JsbWgCxlMHs7WNiOcjsfsN9jY"}, "memberCount": "16753", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16801] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950531456508991", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "835231203733228", "shortId": "3510064986", "nickName": "gaw1wpp1g", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3795_3047680722.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_2.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "2", "alternativeText": "荣誉等级2级勋章"}}], "FollowInfo": {"followingCount": "40", "followerCount": "4", "followerCountStr": "4", "followingCountStr": "40"}, "displayId": "gaw1wpp1g856", "secUid": "MS4wLjABAAAAXNOXGnLmBqOIeUOjkxiirrm4BVMKcld3kgdWpUdJqV8"}, "memberCount": "16801", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950529263550208", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "2207467708359503", "shortId": "95274576168", "nickName": "安安", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_167ace64903d4bbdbc2385f70564c7ee.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_1.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "1", "alternativeText": "荣誉等级1级勋章"}}], "FollowInfo": {"followingCount": "750", "followerCount": "204", "followerCountStr": "204", "followingCountStr": "750"}, "displayId": "95274576168", "secUid": "MS4wLjABAAAAeOqwJPoiVAknvcy-kGoYskM-ladxzNYhRAyTLs7P6AE0a0kM30Ryz6uAWAIeclYZ"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16753] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950533474640438", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "101292550992", "shortId": "3638527905", "nickName": "利哥", "gender": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_ocLKA2khAKeZAICEcCfzAUAzg6DgAATgNSBA8H.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_17.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "17", "alternativeText": "荣誉等级17级勋章"}}], "FollowInfo": {"followingCount": "64", "followerCount": "25", "followerCountStr": "25", "followingCountStr": "64"}, "displayId": "dyohv34rv3vu", "secUid": "MS4wLjABAAAA5I_y6NnJz74rtNi7_DkFVcW0y69zp-jXkRZiDVJcO58"}, "memberCount": "16753", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastRoomUserSeqMessage] [] [房间Id：7353446987657677579] | {"common": {"method": "WebcastRoomUserSeqMessage", "msgId": "7354950532152707380", "roomId": "7353446987657677579", "createTime": "1712457866599"}, "ranksList": [{"user": {"id": "63827154603", "nickName": "Q W", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_a216b3aa244b1e1c9f32c328d7b723fb.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_a216b3aa244b1e1c9f32c328d7b723fb.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_a216b3aa244b1e1c9f32c328d7b723fb.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-avt-0015_a216b3aa244b1e1c9f32c328d7b723fb"}, "FollowInfo": {}, "idStr": "63827154603"}, "rank": "1"}, {"user": {"id": "95589801111", "nickName": "一生平安", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_878ad960864e46c1bb0da284cf9980c3.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_878ad960864e46c1bb0da284cf9980c3.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_878ad960864e46c1bb0da284cf9980c3.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-i-0813_878ad960864e46c1bb0da284cf9980c3"}, "FollowInfo": {}, "idStr": "95589801111"}, "rank": "2"}, {"user": {"id": "2757993051198992", "nickName": "绵绵不眠", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_5bda884939d5fe68b0ab65f0ebf8a717.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_5bda884939d5fe68b0ab65f0ebf8a717.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_5bda884939d5fe68b0ab65f0ebf8a717.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-avt-0015_5bda884939d5fe68b0ab65f0ebf8a717"}, "FollowInfo": {}, "idStr": "2757993051198992"}, "rank": "3"}], "total": "16745", "totalUser": "33116139", "totalUserStr": "10万+", "totalStr": "1万+", "onlineUserForAnchor": "1.7万", "totalPvForAnchor": "3311.6万"}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16745] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950535076177920", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "85823999859", "shortId": "1067103231", "nickName": "用户7535672637133", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_4736df547cb549728218436996ab1a7d.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "418", "followerCount": "116", "followerCountStr": "116", "followingCountStr": "418"}, "displayId": "lxg197311261031", "secUid": "MS4wLjABAAAAUxo27gc3CfLwE-HCwbwElpTarsnjDbGtO0P8X2lVE4s"}, "memberCount": "16745", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16758] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950533584040207", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "563425542417197", "shortId": "49190600202", "nickName": "∞r)‘", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_oAyAD7ZSRCGEKAfeGAII3qJAAbAqgiNDtVSzh9.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_2.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "2", "alternativeText": "荣誉等级2级勋章"}}], "FollowInfo": {"followingCount": "302", "followerCount": "57", "followerCountStr": "57", "followingCountStr": "302"}, "displayId": "49190600202", "secUid": "MS4wLjABAAAA0WUFJ2xXAcx0nVdzWHojtJhSu1L8c3D2oXqkGWUEb4o"}, "memberCount": "16758", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息1:2] [房间Id：7353446987657677579] {"common": {"method": "WebcastGiftMessage", "msgId": "7354950477366203392", "roomId": "7353446987657677579", "createTime": "1712457868712", "isShowMsg": true, "describe": "用户7198950323074:送给主播 1个你最好看", "priorityScore": "31000"}, "giftId": "3481", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "299488069591855", "shortId": "4111411173", "nickName": "用户7198950323074", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3793_3114521287"}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_4.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_4.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_4.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "4", "alternativeText": "荣誉等级4级勋章"}}], "FollowInfo": {"followingCount": "76", "followerCount": "19", "followerCountStr": "19", "followingCountStr": "76"}, "displayId": "dyl842c2pdm7", "secUid": "MS4wLjABAAAAN_Zp-nE-JhOpfXHnZmFMVtKWz63DMTvSJ-oDae2GZIM"}, "groupId": "1712457868", "gift": {"image": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png"], "uri": "webcast/4960c39f645d524beda5d50dc372510e.png", "avgColor": "#524937"}, "describe": "送出你最好看", "id": "3481", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 2, "isDisplayedOnPanel": true, "name": "你最好看", "icon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png"], "uri": "webcast/4960c39f645d524beda5d50dc372510e.png", "avgColor": "#7C7CA3"}}, "publicAreaCommon": {"userLabel": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image"], "uri": "webcast/userlabel_regular_watch.png", "avgColor": "#C8E0BC"}}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1712457867302", "traceId": "acff7bb22dadef2e889fd05473935694"}
2024-04-07 10:44:31,009 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,009 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16753] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950539635856690", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "103227017405", "shortId": "1298244544", "nickName": "E", "gender": 2, "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_cc7b8cafa8374e959f8bcca552359377.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "116", "followerCount": "301", "followerCountStr": "301", "followingCountStr": "116"}, "displayId": "1298244544", "secUid": "MS4wLjABAAAAXDgTJVoLwCbCuXjycMHUhYnZbW55vrrediqxG-q7N3I"}, "memberCount": "16753", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,009 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950539581814322", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "241527220358652", "shortId": "3684761979", "nickName": "呵呵", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oYEXIAAAepHSAUzyjfCWtTApXIGAahAgNs9DCd.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "311", "followerCount": "67", "followerCountStr": "67", "followingCountStr": "311"}, "displayId": "hehe9854218", "secUid": "MS4wLjABAAAAFNATuXfB70mh_kAa0K5SLTVpofeDmIS27TPL7sE9gJ4"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,010 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950539643645221", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "111225499337", "shortId": "3612569998", "nickName": "我们的生活", "gender": 2, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_2f8d60007b1802ea04bbd.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "138", "followerCount": "6", "followerCountStr": "6", "followingCountStr": "138"}, "displayId": "dy35uw9wc7fk", "secUid": "MS4wLjABAAAAJp58sI9JFrE7VLXWfCL8YMGRxZBnm1DrXM-RAnE3rrU"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,010 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息2:3] [房间Id：7353446987657677579] {"common": {"method": "WebcastGiftMessage", "msgId": "7354950488976528422", "roomId": "7353446987657677579", "createTime": "1712457869514", "isShowMsg": true, "describe": "yangyang:送给主播 1个小心心", "priorityScore": "31000"}, "giftId": "463", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "2568900791244829", "shortId": "38729063708", "nickName": "yangyang", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh"}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_14.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_14.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_14.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "14", "alternativeText": "荣誉等级14级勋章"}}], "FollowInfo": {"followingCount": "52", "followerCount": "19", "followerCountStr": "19", "followingCountStr": "52"}, "displayId": "38729063708", "secUid": "MS4wLjABAAAAJGiQZ9a5Fo_9P7fJEhZQHVHag9t6B96kw3KEIamUZaX8Vua4oY1yss_YSsgIanZE"}, "groupId": "1712457869", "gift": {"image": {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#53737A"}, "describe": "送出小心心", "id": "463", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 1, "isDisplayedOnPanel": true, "name": "小心心", "icon": {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#A3897C"}}, "publicAreaCommon": {}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1712457868900", "traceId": "381f9063d8cac72b7cb3c6794fc9c4c4"}
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,010 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950544588841250", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "3167020674718391", "shortId": "97790019832", "nickName": "听风吹君归", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_9b60cb47e8cc403585f6d9a984979f31.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "98", "followerCountStr": "0", "followingCountStr": "98"}, "displayId": "97790019832", "secUid": "MS4wLjABAAAAydoVqOZd71gZjcQaL8a3HW4KwE_GEfDwyiBXQ3LAdaa6w1t41R7UuXldF8lut4CL"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,010 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16802] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950542400478757", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "105182551672", "shortId": "3930362651", "nickName": "TIAN", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_oEgAeDVrlAAsW2baAnCKD5i1eAhEDIb9FApwVB.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "153", "followerCount": "53", "followerCountStr": "53", "followingCountStr": "153"}, "displayId": "tianmei5568", "secUid": "MS4wLjABAAAAItOj_XrxGnBxGwHz7osz9JrnJXoY3-sbHIc5OgY0d4U"}, "memberCount": "16802", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,010 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950545737797658", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "1912745229553415", "shortId": "79620122800", "nickName": "用户5033798609559", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "146", "followerCount": "10", "followerCountStr": "10", "followingCountStr": "146"}, "displayId": "79620122800", "secUid": "MS4wLjABAAAAT3-xdvFq3z-ND4kzkc9S_a6c2FXZRAzPawbCcr-ucNU9yRoGBHpWfHUBRJ9DBzLR"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,010 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastRoomStreamAdaptationMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastRoomRankMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastRoomStatsMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,010 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:31,139 - DEBUG - https://live.douyin.com:443 "GET /webcast/ranklist/audience/?aid=6383&app_name=douyin_web&live_id=1&device_platform=web&language=zh-CN&cookie_enabled=true&screen_width=2560&screen_height=1440&browser_language=zh-CN&browser_platform=Win32&browser_name=Chrome&browser_version=117.0.0.0&webcast_sdk_version=2450&room_id=7353446987657677579&rank_type=30 HTTP/1.1" 200 None
更新打赏排行: [{'nickname': 'Q W', 'rank': 1}, {'nickname': '一生平安', 'rank': 2}, {'nickname': '绵绵不眠', 'rank': 3}, {'nickname': '伍娘', 'rank': 4}]
2024-04-07 10:44:31,176 - INFO - 更新打赏排行: [{'nickname': 'Q W', 'rank': 1}, {'nickname': '一生平安', 'rank': 2}, {'nickname': '绵绵不眠', 'rank': 3}, {'nickname': '伍娘', 'rank': 4}]
2024-04-07 10:44:31,675 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:31,676 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16770] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950547830667298", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "4498833656250478", "shortId": "52850585240", "nickName": "心态", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_96cd3c2084c845ccac4a2ca0e8f0e594.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "271", "followerCount": "93", "followerCountStr": "93", "followingCountStr": "271"}, "displayId": "52850585240", "secUid": "MS4wLjABAAAAIyQgaiNS9HKgCRrfhXwUwAGXoMuF4Tfl4DbA2uVhZp3uM2Sm69sRNTPqEL1LvSXK"}, "memberCount": "16770", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,676 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16801] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950547492285971", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "2880312263315319", "shortId": "22701265070", "nickName": "刘国强⛵", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oABUAKDEeqFHBa57EfIA8jAaVGA2mwecAAOELP.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "336", "followerCount": "196", "followerCountStr": "196", "followingCountStr": "336"}, "displayId": "22701265070", "secUid": "MS4wLjABAAAAUMT-Qfsd8ZHXxO6Ozig3-y5xzqIslDzDkSn6yoWFMop6qqFur17DSWgTYQ7dU-jP"}, "memberCount": "16801", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,676 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16801] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950546657127222", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "1516954393787454", "shortId": "2345093391", "nickName": "顺其自然。", "gender": 2, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_e4be9d03ec334ec384596f7dd9e8252f.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_6.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "6", "alternativeText": "荣誉等级6级勋章"}}], "FollowInfo": {"followingCount": "1145", "followerCount": "1259", "followerCountStr": "1259", "followingCountStr": "1145"}, "displayId": "dyblx9l63z4x", "secUid": "MS4wLjABAAAA4KGJ6DXVHWaO-GikaKEu_m24sH3_MvcDnr7zeCqkru2dGMdh6qzS1tHIsO-kYcN1"}, "memberCount": "16801", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:31,676 - INFO - [unPackWebcastLikeMessage] [直播间点赞统计3206523] [房间Id：7353446987657677579] | {"common": {"method": "WebcastLikeMessage", "msgId": "7354950548129292329", "roomId": "7353446987657677579", "isShowMsg": true, "anchorFoldType": "1", "anchorFoldTypeV2": "1"}, "count": "11", "total": "3206523", "user": {"id": "3565070383330939", "shortId": "98303186063", "nickName": "王老师", "gender": 2, "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_0408f57de717a0c8c67c54baf726fac2.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_0408f57de717a0c8c67c54baf726fac2.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_0408f57de717a0c8c67c54baf726fac2.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-avt-0015_0408f57de717a0c8c67c54baf726fac2"}, "FollowInfo": {"followingCount": "4960", "followerCount": "86", "followerCountStr": "86", "followingCountStr": "4960"}, "displayId": "wang0375889", "secUid": "MS4wLjABAAAAFKYs8oBNMhm8nrWr-WOg1WAjjlKnOB2jgRUZDU0JIvUtxJ2UdB6Ypb_4zp2MJ0m8"}, "displayControlInfo": {"showText": true, "showIcons": true}}
2024-04-07 10:44:31,676 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息3:5] [房间Id：7353446987657677579] {"common": {"method": "WebcastGiftMessage", "msgId": "7354950503392056358", "roomId": "7353446987657677579", "createTime": "1712457871", "isShowMsg": true, "describe": "用户7198950323074:送给主播 1个你最好看", "priorityScore": "31000"}, "giftId": "3481", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "299488069591855", "shortId": "4111411173", "nickName": "用户7198950323074", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3114521287.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3793_3114521287"}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_4.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_4.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_4.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "4", "alternativeText": "荣誉等级4级勋章"}}], "FollowInfo": {"followingCount": "76", "followerCount": "19", "followerCountStr": "19", "followingCountStr": "76"}, "displayId": "dyl842c2pdm7", "secUid": "MS4wLjABAAAAN_Zp-nE-JhOpfXHnZmFMVtKWz63DMTvSJ-oDae2GZIM"}, "repeatEnd": 1, "groupId": "1712457868", "gift": {"image": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png"], "uri": "webcast/4960c39f645d524beda5d50dc372510e.png", "avgColor": "#524937"}, "describe": "送出你最好看", "id": "3481", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 2, "isDisplayedOnPanel": true, "name": "你最好看", "icon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/4960c39f645d524beda5d50dc372510e.png~tplv-obj.png"], "uri": "webcast/4960c39f645d524beda5d50dc372510e.png", "avgColor": "#7C7CA3"}}, "publicAreaCommon": {"userLabel": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image"], "uri": "webcast/userlabel_regular_watch.png", "avgColor": "#C8E0BC"}}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1712457867302", "traceId": "acff7bb22dadef2e889fd05473935694"}
2024-04-07 10:44:32,339 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:32,340 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16810] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950552377842725", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "97609890716", "shortId": "995814794", "nickName": "茄哥", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_b8b5081034d34ba28139b1cabc220a09.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_9.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "9", "alternativeText": "荣誉等级9级勋章"}}], "FollowInfo": {"followingCount": "608", "followerCount": "603", "followerCountStr": "603", "followingCountStr": "608"}, "displayId": "995814794", "secUid": "MS4wLjABAAAAohKuULIpxQYMLBBtlDbA1-vDLVkSrEj8AipHVDYXQKs"}, "memberCount": "16810", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:32,340 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16802] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950552969131045", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "2348178240705293", "shortId": "3607901797", "nickName": "？。？！dede", "gender": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_be2d77b5a0897958f2cfde26233dde2d.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "989", "followerCount": "12", "followerCountStr": "12", "followingCountStr": "989"}, "displayId": "L450802208054", "secUid": "MS4wLjABAAAAOiI6hrn6FTUur1Hd5NkrNZzUTI_gJdqJRjnyxdTPBMD09VXI_XB0kPgpMn_QTnWZ"}, "memberCount": "16802", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:32,341 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 16758] [房间Id：7353446987657677579] | {"common": {"method": "WebcastMemberMessage", "msgId": "7354950551899845376", "roomId": "7353446987657677579", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "1785217983187511", "shortId": "3560687466", "nickName": "好运来z", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_ece6291cbbd744a5869547be2cece239.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}], "FollowInfo": {"followingCount": "338", "followerCount": "58", "followerCountStr": "58", "followingCountStr": "338"}, "displayId": "haoyunlaiz99", "secUid": "MS4wLjABAAAA5Z-gWmR4aVKrJ3tEfpA6YqbHp0XRlZ-jZHKh_bTLPip01ByxQ89iyj_U8du9hDcO"}, "memberCount": "16758", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-04-07 10:44:32,341 - INFO - [unPackWebcastLikeMessage] [直播间点赞统计3206547] [房间Id：7353446987657677579] | {"common": {"method": "WebcastLikeMessage", "msgId": "7354950554223377418", "roomId": "7353446987657677579", "isShowMsg": true, "anchorFoldType": "1", "anchorFoldTypeV2": "1"}, "count": "12", "total": "3206547", "user": {"id": "2511702257841502", "shortId": "87897842206", "nickName": "中国德哥", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_85f27c8afee19c90f9f4c7199423ce7a.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_85f27c8afee19c90f9f4c7199423ce7a.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_85f27c8afee19c90f9f4c7199423ce7a.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-avt-0015_85f27c8afee19c90f9f4c7199423ce7a"}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_7.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_7.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_7.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "7", "alternativeText": "荣誉等级7级勋章"}}], "FollowInfo": {"followingCount": "286", "followerCount": "68", "followStatus": "1", "followerCountStr": "68", "followingCountStr": "286"}, "displayId": "87897842206", "secUid": "MS4wLjABAAAAKE7w6gC_8ndT3HZXIduwm_E029LCPq4fnM-DUndnKnzsTGuHnsIkrvmFWLYgMoct"}, "displayControlInfo": {"showIcons": true}}
2024-04-07 10:44:32,973 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:32,974 - INFO - [onMessage] [待解析方法WebcastRoomStreamAdaptationMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:32,974 - INFO - [onMessage] [待解析方法WebcastRoomRankMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:32,974 - INFO - [onMessage] [待解析方法WebcastRoomStatsMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:32,974 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7353446987657677579]
2024-04-07 10:44:32,974 - INFO - [sendAck] [🌟发送Ack] [房间Id：7353446987657677579] ====> 房间标题【小白剧场，24小时放映，就等你了！】
2024-04-07 10:44:32,975 - INFO - [unPackWebcastLikeMessage] [直播间点赞统计3206547] [房间Id：7353446987657677579] | {"common": {"method": "WebcastLikeMessage", "msgId": "7354950552361935628", "roomId": "7353446987657677579", "isShowMsg": true, "anchorFoldType": "1", "anchorFoldTypeV2": "1"}, "count": "2", "total": "3206547", "user": {"id": "110352712767", "shortId": "2014102889", "nickName": "玉米爷爷", "gender": 2, "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3795_3044413937.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3795_3044413937.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3795_3044413937.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3795_3044413937"}, "FollowInfo": {"followingCount": "1169", "followerCount": "111", "followerCountStr": "111", "followingCountStr": "1169"}, "displayId": "2014102889", "secUid": "MS4wLjABAAAAf29IqVQQKABgn_iYbp5ajcIhpUBMuuzUrYGdKaaIyOs"}, "displayControlInfo": {"showText": true, "showIcons": true}}
2024-04-07 10:44:32,975 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息4:6] [房间Id：7353446987657677579] {"common": {"method": "WebcastGiftMessage", "msgId": "7354950510694372392", "roomId": "7353446987657677579", "createTime": "1712457872", "isShowMsg": true, "describe": "yangyang:送给主播 1个小心心", "priorityScore": "31000"}, "giftId": "463", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "2568900791244829", "shortId": "38729063708", "nickName": "yangyang", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-i-0813c001_oQmAABjxIAeNCaUAEFADhAAQA9fovCtiQgWzNh"}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_14.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_14.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_14.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "14", "alternativeText": "荣誉等级14级勋章"}}], "FollowInfo": {"followingCount": "52", "followerCount": "19", "followerCountStr": "19", "followingCountStr": "52"}, "displayId": "38729063708", "secUid": "MS4wLjABAAAAJGiQZ9a5Fo_9P7fJEhZQHVHag9t6B96kw3KEIamUZaX8Vua4oY1yss_YSsgIanZE"}, "repeatEnd": 1, "groupId": "1712457869", "gift": {"image": {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#53737A"}, "describe": "送出小心心", "id": "463", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 1, "isDisplayedOnPanel": true, "name": "小心心", "icon": {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#A3897C"}}, "publicAreaCommon": {}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1712457868900", "traceId": "381f9063d8cac72b7cb3c6794fc9c4c4"}
2024-04-07 10:44:32,975 - INFO - [unPackWebcastSocialMessage] [➕直播间关注消息] [房间Id：7353446987657677579] | {"common": {"method": "WebcastSocialMessage", "msgId": "7354950551732112143", "roomId": "7353446987657677579", "isShowMsg": true, "priorityScore": "41000"}, "user": {"id": "3452118096682616", "shortId": "3949856985", "nickName": "用户85858819", "Level": 1, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3796_2975850990"}, "FollowInfo": {"followingCount": "184", "followerCount": "50", "followStatus": "1", "followerCountStr": "50", "followingCountStr": "184"}, "displayId": "dyvis89456te", "secUid": "MS4wLjABAAAAGs8O_IYYV8p5CahpkCtJEVk3OKf3s7kNYiI0k9yFCBwzMr9pY-BCkjsaOzTnF72N"}, "action": "1", "shareTarget": "4234921988326635", "followCount": "1391948", "publicAreaCommon": {"userLabel": {"urlListList": ["http://p9-webcast.byteimg.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image", "http://p3-webcast.byteimg.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image"], "uri": "webcast/userlabel_regular_watch.png", "avgColor": "#CCBEA3"}}}
2024-04-07 10:44:33,213 - ERROR - [onError] [webSocket Error事件] [房间Id：7353446987657677579]
获取到的直播数据是:点赞：3206547, 评论: 0, 礼物价值: 6
推送直播数据出错：如果你不用将直播数据推送到你们的服务器上，可以忽略此提示
2024-04-07 10:44:33,263 - INFO - 直播抓取时长：3.055086135864258，点赞数量总计：3206547, 评论数量总计: 0, 礼物数量总计：4, 礼物价值总计: 6
2024-04-07 10:44:33,263 - INFO - [onClose] [webSocket Close事件] [房间Id：7353446987657677579]
```

## uuid记录

taskuuid：对应的是每个方法名称
gameuuid：一场比赛对应的uuid，在某个地方可以修改（页面上或者哪里），测试可以使用页面上的
teamuuid：每个队伍对应的uuid，查询队伍的时候会返回给我
uuid：应援的uuid，是添加应援的时候，返回给我
